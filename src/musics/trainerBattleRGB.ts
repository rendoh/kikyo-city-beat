import { $, GbChannel } from '../GbChannel';
import { MusicBase } from './Music';

const ch1 = new GbChannel(
  [
    // 1
    [$('A5', '16n'), $('G#5', '16n'), $('G5', '16n'), $('F#5', '16n')],
    [$('A5', '16n'), $('F5', '16n'), $('F#5', '16n'), $('F5', '16n')],
    [$('A5', '16n'), $('E5', '16n'), $('F5', '16n'), $('E5', '16n')],
    [$('A5', '16n'), $('D#5', '16n'), $('E5', '16n'), $('D#5', '16n')],

    // 2
    [$('A5', '16n'), $('D5', '16n'), $('D#5', '16n'), $('D5', '16n')],
    [$('A5', '16n'), $('C#5', '16n'), $('D5', '16n'), $('C#5', '16n')],
    [$('A5', '16n'), $('C5', '16n'), $('C#5', '16n'), $('C5', '16n')],
    [$('A5', '16n'), $('B4', '16n'), $('C5', '16n'), $('B4', '16n')],

    // 3
    $('B5', '8n'),
    null,
    null,
    null,

    // 4
    null,
    null,
    null,
    null,

    // 5
    $('B5', '8n'),
    null,
    null,
    null,

    // 6
    null,
    null,
    null,
    $('A5', '8n'),

    // 7
    [$('B4', '8n'), null],
    [null, $('C#5', '8n')],
    null,
    $('D5', '8n'),

    // 8
    [$('B4', '8n'), $('C#5', '8n')],
    [null, $('D5', '8n')],
    null,
    [$('A5', '8n'), $('Bb5', '8n')],

    // 9
    [$('B5', '8n'), null],
    [null, $('C#6', '8n')],
    null,
    $('D6', '8n'),

    // 10
    [$('B5', '8n'), $('C#6', '8n')],
    [null, $('D6', '8n')],
    null,
    $('A5', '8n'),

    // 11
    $('B4', '4n.'),
    [null, $('F#4', '8n')],
    $('F#4', '2n.'),
    null,

    // 12
    null,
    $('B4', '4n'),
    $('F#4', '4n'),
    $('B4', '4n'),

    // 13
    $('C5', '2m'),
    null,
    null,
    null,

    // 14
    null,
    null,
    null,
    null,

    // 15
    // 16
    // 17
    // 18
    // 19
    // 20
  ],
  {
    envelope: {
      attack: 0,
      decay: 0.8,
      sustain: 0.85,
      release: 0.9,
    },
  },
);

const ch2 = new GbChannel(
  [
    // 1
    null,
    null,
    [$('E4', '16n'), $('D#4', '16n'), $('F4', '16n'), $('E4', '16n')],
    [$('D#4', '16n'), $('E4', '16n'), $('D#4', '16n'), $('D4', '16n')],

    // 2
    [$('D#4', '16n'), $('D4', '16n'), $('C#4', '16n'), $('D4', '16n')],
    [$('C#4', '16n'), $('C4', '16n'), $('C#4', '16n'), $('C4', '16n')],
    [$('B3', '16n'), $('C4', '16n'), $('B3', '16n'), $('A#3', '16n')],
    [$('B3', '16n'), $('A#3', '16n'), $('A3', '16n'), $('A#3', '16n')],

    // 3
    [$('D4', '8n'), null],
    [null, $('E4', '8n')],
    null,
    $('F4', '8n'),

    // 4
    [$('D4', '8n'), $('E4', '8n')],
    [null, $('F4', '8n')],
    null,
    $('C4', '8n'),

    // 5
    [$('D4', '8n'), null],
    [null, $('E4', '8n')],
    null,
    $('F4', '8n'),

    // 6
    [$('D4', '8n'), $('E4', '8n')],
    [null, $('F4', '8n')],
    null,
    [$('C4', '8n'), $('C#4', '8n')],

    // 7
    [$('D4', '8n'), null],
    [null, $('E4', '8n')],
    null,
    $('F4', '8n'),

    // 8
    [$('D4', '8n'), $('E4', '8n')],
    [null, $('F4', '8n')],
    null,
    $('C4', '8n'),

    // 9
    [$('D4', '8n'), null],
    [null, $('E4', '8n')],
    null,
    $('F4', '8n'),

    // 10
    [$('D4', '8n'), $('E4', '8n')],
    [null, $('F4', '8n')],
    null,
    [$('C4', '8n'), $('C#4', '8n')],

    // 11
    [$('D4', '8n'), $('E4', '4n')],
    [null, $('C#4', '8n')],
    $('D4', '4n'),
    $('B3', '4n'),

    // 12
    $('F#3', '4n'),
    [$('E4', '8n'), $('D4', '4n')],
    [null, $('C#4', '8n')],
    [$('D4', '8n'), $('E4', '8n')],

    // 13
    $('F4', '2n'),
    null,
    [$('C4', '16n'), $('C#4', '16n'), $('D4', '16n'), $('D#4', '16n')],
    [$('E4', '16n'), $('D#4', '16n'), $('D4', '16n'), $('C#4', '16n')],

    // 14
    [$('C4', '16n'), $('C#4', '16n'), $('D4', '16n'), $('D#4', '16n')],
    [$('E4', '16n'), $('F4', '16n'), $('F#4', '16n'), $('G4', '16n')],
    [$('G#4', '16n'), $('G4', '16n'), $('F#4', '16n'), $('F4', '16n')],
    [$('E4', '16n'), $('D#4', '16n'), $('D4', '16n'), $('C#4', '16n')],

    // 15
    // 16
    // 17
    // 18
    // 19
    // 20
  ],
  {
    envelope: {
      attack: 0,
      decay: 0.8,
      sustain: 0.85,
      release: 0.9,
    },
  },
);

const ch3 = new GbChannel(
  [
    // 1
    [$('B3', '16n'), $('A#3', '16n'), $('A3', '16n'), $('G3', '16n')],
    [$('A3', '16n'), $('G#3', '16n'), $('G3', '16n'), $('F#3', '16n')],
    [$('G3', '16n'), $('F#3', '16n'), $('F3', '16n'), $('E3', '16n')],
    [$('F3', '16n'), $('E3', '16n'), $('D#3', '16n'), $('D3', '16n')],

    // 2
    [$('D#3', '16n'), $('D3', '16n'), $('C#3', '16n'), $('C3', '16n')],
    [$('C#3', '16n'), $('C3', '16n'), $('B2', '16n'), $('A#2', '16n')],
    [$('B2', '16n'), $('A#2', '16n'), $('A2', '16n'), $('G#2', '16n')],
    [$('A2', '8n'), $('A#2', '8n')],

    // 3
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('E3', '8n'), $('D3', '8n')],

    // 4
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('Bb2', '8n'), $('C3', '8n')],

    // 5
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('E3', '8n'), $('D3', '8n')],

    // 6
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('Bb2', '8n'), $('C3', '8n')],

    // 7
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('E3', '8n'), $('D3', '8n')],

    // 8
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('Bb2', '8n'), $('C3', '8n')],

    // 9
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('E3', '8n'), $('D3', '8n')],

    // 10
    [$('B2', '8n'), $('B2', '8n')],
    [$('D3', '8n'), $('E3', '8n')],
    [$('B2', '8n'), $('F3', '8n')],
    [$('Bb2', '8n'), $('C3', '8n')],

    // 11
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],

    // 12
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],
    [$('B2', '8n'), $('F#3', '8n')],

    // 13
    [$('C3', '8n'), $('G3', '8n')],
    [$('C3', '8n'), $('G3', '8n')],
    [$('C3', '8n'), $('G3', '8n')],
    [$('C3', '8n'), $('G3', '8n')],

    // 14
    [$('C3', '8n'), $('G3', '8n')],
    [$('A3', '8n'), $('G3', '8n')],
    [$('F#3', '8n'), $('E3', '8n')],
    [$('D3', '8n'), $('C3', '8n')],

    // 15
    // 16
    // 17
    // 18
    // 19
    // 20
  ],
  {
    volume: -20,
  },
);

class TrainerBattleRGB extends MusicBase {
  protected ch1 = ch1;
  protected ch2 = ch2;
  protected ch3 = ch3;
  public bpm = 171;
  protected loopPoints = ['0m', '16m'] as const;
  protected timeSignature = 4;
  protected startPositions = [0, 0, 0, 0] as const;
}

export const trainerBattleRGB = new TrainerBattleRGB();
